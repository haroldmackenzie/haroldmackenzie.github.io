<!doctype html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
<meta http-equiv="Content-Security-Policy" content="media-src www.hapawillow.com;">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta name="description" content="Remove audio delay in Safari">

<meta name="author" content="TuneGO">

<title>Safari Audio Test</title>
<link rel="icon" href="/favicon.ico">

<meta name="robots" content="index,follow">
<meta name="referrer" content="origin-when-cross-origin">
<meta name="generator" content="Hugo 0.72.0" />
<meta property="og:title" content="Safari Audio Test" />
<meta property="og:description" content="Remove audio delay in Safari" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://example.org/" />
<meta property="og:updated_time" content="2020-06-12T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Safari Audio Test"/>
<meta name="twitter:description" content="Remove audio delay in Safari"/>


<link href="http://example.org/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="http://example.org/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,400italic,700italic" rel="stylesheet"
  type="text/css">
<link href='https://fonts.googleapis.com/css?family=Cabin:700' rel='stylesheet' type='text/css'>

<link href="http://example.org/css/grayscale.css" rel="stylesheet">


    </head>
    <body id="page-top">
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand js-scroll-trigger improve-contrast-box" href="#page-top">Safari Audio Test</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
      data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
      aria-label="Toggle navigation"><i class="fa fa-bars"></i></button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger improve-contrast-box"
            href="#sec-ind-1">The Problem</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger improve-contrast-box"
            href="#sec-ind-2">Tests</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger improve-contrast-box"
            href="#sec-ind-3">Conclusion</a>
        </li></ul>
    </div>
  </div>
</nav>

<header>
  <div id="intro-body">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto"><div class="improve-contrast-box">
              <h2></h2><h1 id="safari-audio-test">Safari Audio Test</h1>
<p>Tests to get Safari to play audio before it&rsquo;s entire file is downloaded.</p>

            </div>
            <a href="#sec-ind-1" class="btn btn-circle js-scroll-trigger"
              aria-label="Scroll to Next Section"><i class="fa fa-angle-double-down animated"></i></a></div>
        </div>
      </div>

      </div>
</header>
<section id="sec-ind-1" class="section-1 content-section text-justify">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto">
              <h2>The Problem</h2><p>Safari downloads the complete audio file before playing it when html5 <code>&lt;audio&gt;</code> tag is used. For our webapps, it can take over a 1 minute before and audio file can play.</p>
<p>In order to try to replicate our problem, the samples below do not preload the audio file - the audio files will be fetched <em><em>after</em></em> the &ldquo;Play&rdquo; button is pressed.</p>
<div>
  <p>Flac audio: 56.7 MB<br />
    <audio controls preload="none">
      <source src="https://www.hapawillow.com/audio/audio.flac" type="audio/flac">
    </audio>
  </p>
  <p>Wav audio: 42.8 MB<br />
    <audio controls preload="none">
      <source src="https://www.hapawillow.com/audio/audio.wav" type="audio/wav">
    </audio>
  </p>
  <p>Mp3 audio: 8.8 MB<br />
    <audio controls preload="none">
      <source src="https://www.hapawillow.com/audio/audio.mp3" type="audio/mp3">
    </audio>
  </p>
</div>
            </div>
        </div>
      </div>

      </section>
<section id="sec-ind-2" class="section-2 content-section text-justify">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto"><div class="improve-contrast-box">
              <h2>Tests</h2><p>Tests of different ways to solve this.</p>

            </div>
            </div>
        </div>
      </div>

      </section>
<section id="sec-ind-3" class="section-3 content-section text-justify">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto">
              <h2>Conclusion</h2>
              In order to make Safari play audio (mp3, flac, wav, etc) before the audio file is completely downloaded, we need to do the following:
              <h4 id="safari-does-have-a-lag-when-playing-a-wav-or-flac-audio-file-but-it-is-not-long---ie-the-lag-is-just-a-few-seconds-does-not-really-interfere-with-the-user-experience">Safari does have a lag when playing a WAV or FLAC audio file BUT it is not long - ie. the lag is just a few seconds does not really interfere with the user experience.</h4>
<h4 id="this-seems-to-indicate-that-long-lag-time-we-are-seeing-in-safari-ios-safari-and-maybe-ios-app-is-due-to-how-the-platform-makes-audio-files-available-to-listen-or-possibly-a-combination-of-the-platform-and-bogart">This seems to indicate that long lag time we are seeing in Safari, iOS Safari and maybe iOS App is due to how the Platform makes audio files available to listen or possibly a combination of the platform and Bogart.</h4>
<ol>
<li><del>Do not use HTML5 audio tag</del></li>
<li><del>Use the javascript Web Audio API</del></li>
</ol>

            </div>
        </div>
      </div>

      </section>
    
    <footer>
      <div class="container text-center">
        <p>Copyright &copy; Safari Audio Test </p>
      </div>
    </footer>

    
    <script src="http://example.org/vendor/jquery/jquery.min.js"></script>
    <script src="http://example.org/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    
    <script src="http://example.org/vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="http://example.org/js/grayscale.min.js"></script>
</body>
</html>
